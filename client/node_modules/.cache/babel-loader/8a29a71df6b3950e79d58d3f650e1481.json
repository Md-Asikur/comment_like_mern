{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\scs\\\\OneDrive\\\\Desktop\\\\react-youtube-clone-master\\\\client\\\\src\\\\components\\\\views\\\\DetailVideoPage\\\\Sections\\\\Comments.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, Input } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport SingleComment from './SingleComment';\nimport ReplyComment from './ReplyComment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  TextArea\n} = Input;\n\nfunction Comments(props) {\n  _s();\n\n  const user = useSelector(state => state.user);\n  const [Comment, setComment] = useState(\"\");\n\n  const handleChange = e => {\n    setComment(e.currentTarget.value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const variables = {\n      content: Comment,\n      writer: user.userData._id,\n      postId: props.postId\n    };\n    axios.post('/api/comment/saveComment', variables).then(response => {\n      if (response.data.success) {\n        setComment(\"\");\n        props.refreshFunction(response.data.result);\n      } else {\n        alert('Failed to save Comment');\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \" replies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), console.log(props.CommentLists), props.CommentLists && props.CommentLists.map((comment, index) => !comment.responseTo && /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SingleComment, {\n        comment: comment,\n        postId: props.postId,\n        refreshFunction: props.refreshFunction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(ReplyComment, {\n        CommentLists: props.CommentLists,\n        postId: props.postId,\n        parentCommentId: comment._id,\n        refreshFunction: props.refreshFunction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        display: 'flex'\n      },\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextArea, {\n        style: {\n          width: '100%',\n          borderRadius: '5px'\n        },\n        onChange: handleChange,\n        value: Comment,\n        placeholder: \"write some comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          width: '20%',\n          height: '52px'\n        },\n        onClick: onSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Comments, \"rDTlsItjUu/hue01LZg98hsuJnM=\", false, function () {\n  return [useSelector];\n});\n\n_c = Comments;\nexport default Comments;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["React","useState","Button","Input","axios","useSelector","SingleComment","ReplyComment","TextArea","Comments","props","user","state","Comment","setComment","handleChange","e","currentTarget","value","onSubmit","preventDefault","variables","content","writer","userData","_id","postId","post","then","response","data","success","refreshFunction","result","alert","console","log","CommentLists","map","comment","index","responseTo","display","width","borderRadius","height"],"sources":["C:/Users/scs/OneDrive/Desktop/react-youtube-clone-master/client/src/components/views/DetailVideoPage/Sections/Comments.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Button, Input } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport SingleComment from './SingleComment';\nimport ReplyComment from './ReplyComment';\nconst { TextArea } = Input;\n\nfunction Comments(props) {\n    const user = useSelector(state => state.user)\n    const [Comment, setComment] = useState(\"\")\n\n    const handleChange = (e) => {\n        setComment(e.currentTarget.value)\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        const variables = {\n            content: Comment,\n            writer: user.userData._id,\n            postId: props.postId\n        }\n\n        axios.post('/api/comment/saveComment', variables)\n            .then(response => {\n                if (response.data.success) {\n                    setComment(\"\")\n                    props.refreshFunction(response.data.result)\n                } else {\n                    alert('Failed to save Comment')\n                }\n            })\n    }\n\n    return (\n        <div>\n            <br />\n            <p> replies</p>\n            <hr />\n            {/* Comment Lists  */}\n            {console.log(props.CommentLists)}\n\n            {props.CommentLists && props.CommentLists.map((comment, index) => (\n                (!comment.responseTo &&\n                    <React.Fragment>\n                        <SingleComment comment={comment} postId={props.postId} refreshFunction={props.refreshFunction} />\n                        <ReplyComment CommentLists={props.CommentLists} postId={props.postId} parentCommentId={comment._id} refreshFunction={props.refreshFunction} />\n                    </React.Fragment>\n                )\n            ))}\n\n\n\n            {/* Root Comment Form */}\n            <form style={{ display: 'flex' }} onSubmit={onSubmit}>\n                <TextArea\n                    style={{ width: '100%', borderRadius: '5px' }}\n                    onChange={handleChange}\n                    value={Comment}\n                    placeholder=\"write some comments\"\n                />\n                <br />\n                <Button style={{ width: '20%', height: '52px' }} onClick={onSubmit}>Submit</Button>\n            </form>\n\n        </div>\n    )\n}\n\nexport default Comments\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}