{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\scs\\\\OneDrive\\\\Desktop\\\\Youtube Deploy\\\\client\\\\src\\\\hoc\\\\auth.js\";\nimport React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function (ComposedClass, reload) {\n  var _s = $RefreshSig$();\n\n  let adminRoute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  function AuthenticationCheck(props) {\n    _s();\n\n    let user = useSelector(state => state.user);\n    const dispatch = useDispatch();\n    useEffect(() => {\n      dispatch(auth()).then(async response => {\n        if (await !response.payload.isAuth) {\n          if (reload) {\n            props.history.push('/register_login');\n          }\n        } else {\n          if (adminRoute && !response.payload.isAdmin) {\n            props.history.push('/');\n          } else {\n            if (reload === false) {\n              props.history.push('/');\n            }\n          }\n        }\n      });\n    }, [dispatch, props.history, user.googleAuth]);\n    return /*#__PURE__*/_jsxDEV(ComposedClass, { ...props,\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this);\n  }\n\n  _s(AuthenticationCheck, \"5J/jBDPxOCuWDcqNaifzAwnDqoU=\", false, function () {\n    return [useSelector, useDispatch];\n  });\n\n  return AuthenticationCheck;\n}","map":{"version":3,"names":["React","useEffect","auth","useSelector","useDispatch","ComposedClass","reload","adminRoute","AuthenticationCheck","props","user","state","dispatch","then","response","payload","isAuth","history","push","isAdmin","googleAuth"],"sources":["C:/Users/scs/OneDrive/Desktop/Youtube Deploy/client/src/hoc/auth.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function (ComposedClass, reload, adminRoute = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n\n        useEffect(() => {\n\n            dispatch(auth()).then(async response => {\n                if (await !response.payload.isAuth) {\n                    if (reload) {\n                        props.history.push('/register_login')\n                    }\n                } else {\n                    if (adminRoute && !response.payload.isAdmin) {\n                        props.history.push('/')\n                    }\n                    else {\n                        if (reload === false) {\n                            props.history.push('/')\n                        }\n                    }\n                }\n            })\n            \n        }, [dispatch, props.history, user.googleAuth])\n\n        return (\n            <ComposedClass {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,0BAArB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;AAEA,eAAe,UAAUC,aAAV,EAAyBC,MAAzB,EAAoD;EAAA;;EAAA,IAAnBC,UAAmB,uEAAN,IAAM;;EAC/D,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;IAAA;;IAEhC,IAAIC,IAAI,GAAGP,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACD,IAAhB,CAAtB;IACA,MAAME,QAAQ,GAAGR,WAAW,EAA5B;IAEAH,SAAS,CAAC,MAAM;MAEZW,QAAQ,CAACV,IAAI,EAAL,CAAR,CAAiBW,IAAjB,CAAsB,MAAMC,QAAN,IAAkB;QACpC,IAAI,MAAM,CAACA,QAAQ,CAACC,OAAT,CAAiBC,MAA5B,EAAoC;UAChC,IAAIV,MAAJ,EAAY;YACRG,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,iBAAnB;UACH;QACJ,CAJD,MAIO;UACH,IAAIX,UAAU,IAAI,CAACO,QAAQ,CAACC,OAAT,CAAiBI,OAApC,EAA6C;YACzCV,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB;UACH,CAFD,MAGK;YACD,IAAIZ,MAAM,KAAK,KAAf,EAAsB;cAClBG,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB;YACH;UACJ;QACJ;MACJ,CAfD;IAiBH,CAnBQ,EAmBN,CAACN,QAAD,EAAWH,KAAK,CAACQ,OAAjB,EAA0BP,IAAI,CAACU,UAA/B,CAnBM,CAAT;IAqBA,oBACI,QAAC,aAAD,OAAmBX,KAAnB;MAA0B,IAAI,EAAEC;IAAhC;MAAA;MAAA;MAAA;IAAA,QADJ;EAGH;;EA9B8D,GACtDF,mBADsD;IAAA,QAGhDL,WAHgD,EAI1CC,WAJ0C;EAAA;;EA+B/D,OAAOI,mBAAP;AACH"},"metadata":{},"sourceType":"module"}