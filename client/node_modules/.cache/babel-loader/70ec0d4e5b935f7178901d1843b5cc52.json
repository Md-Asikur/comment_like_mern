{"ast":null,"code":"import _slicedToArray from\"C:/Users/scs/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{FaCode}from\"react-icons/fa\";import{Card,Avatar,Col,Typography,Row}from'antd';import axios from'axios';import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Title=Typography.Title;var Meta=Card.Meta;function SubscriptionPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Videos=_useState2[0],setVideos=_useState2[1];var variable={userFrom:localStorage.getItem('userId')};useEffect(function(){axios.post('/api/video/getSubscriptionVideos',variable).then(function(response){if(response.data.success){setVideos(response.data.videos);}else{alert('Failed to get subscription videos');}});},[]);var renderCards=Videos.map(function(video,index){var minutes=Math.floor(video.duration/60);var seconds=Math.floor(video.duration-minutes*60);return/*#__PURE__*/_jsxs(Col,{lg:6,md:8,xs:24,children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'relative'},children:/*#__PURE__*/_jsxs(\"a\",{href:\"/video/\".concat(video._id),children:[/*#__PURE__*/_jsx(\"img\",{style:{width:'100%'},alt:\"thumbnail\",src:\"http://localhost:5000/\".concat(video.thumbnail)}),/*#__PURE__*/_jsx(\"div\",{className:\" duration\",style:{bottom:0,right:0,position:'absolute',margin:'4px',color:'#fff',backgroundColor:'rgba(17, 17, 17, 0.8)',opacity:0.8,padding:'2px 4px',borderRadius:'2px',letterSpacing:'0.5px',fontSize:'12px',fontWeight:'500',lineHeight:'12px'},children:/*#__PURE__*/_jsxs(\"span\",{children:[minutes,\" : \",seconds]})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Meta,{avatar:/*#__PURE__*/_jsx(Avatar,{src:video.writer.image}),title:video.title}),/*#__PURE__*/_jsxs(\"span\",{children:[video.writer.name,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'3rem'},children:[\" \",video.views]}),\"- \",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",moment(video.createdAt).format(\"MMM Do YY\"),\" \"]})]});});return/*#__PURE__*/_jsxs(\"div\",{style:{width:'85%',margin:'3rem auto'},children:[/*#__PURE__*/_jsx(Title,{level:2,children:\" Subscribed Videos \"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Row,{gutter:16,children:renderCards})]});}export default SubscriptionPage;","map":{"version":3,"names":["React","useEffect","useState","FaCode","Card","Avatar","Col","Typography","Row","axios","moment","Title","Meta","SubscriptionPage","Videos","setVideos","variable","userFrom","localStorage","getItem","post","then","response","data","success","videos","alert","renderCards","map","video","index","minutes","Math","floor","duration","seconds","position","_id","width","thumbnail","bottom","right","margin","color","backgroundColor","opacity","padding","borderRadius","letterSpacing","fontSize","fontWeight","lineHeight","writer","image","title","name","marginLeft","views","createdAt","format"],"sources":["C:/Users/scs/OneDrive/Desktop/react-youtube-clone-master/client/src/components/views/SubscriptionPage/SubscriptionPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { FaCode } from \"react-icons/fa\";\nimport { Card, Avatar, Col, Typography, Row } from 'antd';\nimport axios from 'axios';\nimport moment from 'moment';\nconst { Title } = Typography;\nconst { Meta } = Card;\n\nfunction SubscriptionPage() {\n  \n    const [Videos, setVideos] = useState([])\n\n    let variable = { userFrom : localStorage.getItem('userId')  }\n\n    useEffect(() => {\n        axios.post('/api/video/getSubscriptionVideos', variable)\n            .then(response => {\n                if (response.data.success) {\n                    setVideos(response.data.videos)\n                } else {\n                    alert('Failed to get subscription videos')\n                }\n            })\n    }, [])\n\n   \n    const renderCards = Videos.map((video, index) => {\n\n        var minutes = Math.floor(video.duration / 60);\n        var seconds = Math.floor(video.duration - minutes * 60);\n\n        return <Col lg={6} md={8} xs={24}>\n            <div style={{ position: 'relative' }}>\n                <a href={`/video/${video._id}`} >\n                <img style={{ width: '100%' }} alt=\"thumbnail\" src={`http://localhost:5000/${video.thumbnail}`} />\n                <div className=\" duration\"\n                    style={{ bottom: 0, right:0, position: 'absolute', margin: '4px', \n                    color: '#fff', backgroundColor: 'rgba(17, 17, 17, 0.8)', opacity: 0.8, \n                    padding: '2px 4px', borderRadius:'2px', letterSpacing:'0.5px', fontSize:'12px',\n                    fontWeight:'500', lineHeight:'12px' }}>\n                    <span>{minutes} : {seconds}</span>\n                </div>\n                </a>\n            </div><br />\n            <Meta\n                avatar={\n                    <Avatar src={video.writer.image} />\n                }\n                title={video.title}\n            />\n            <span>{video.writer.name} </span><br />\n            <span style={{ marginLeft: '3rem' }}> {video.views}</span>\n            - <span> {moment(video.createdAt).format(\"MMM Do YY\")} </span>\n        </Col>\n\n    })\n  \n  \n  \n    return (\n        <div style={{ width: '85%', margin: '3rem auto' }}>\n        <Title level={2} > Subscribed Videos </Title>\n        <hr />\n\n        <Row gutter={16}>\n            {renderCards}\n        </Row>\n    </div>\n    )\n}\n\nexport default SubscriptionPage\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}