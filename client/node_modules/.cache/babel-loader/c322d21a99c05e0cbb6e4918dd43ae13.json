{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\scs\\\\OneDrive\\\\Desktop\\\\react-youtube-clone-master\\\\client\\\\src\\\\components\\\\views\\\\DetailVideoPage\\\\Sections\\\\Subscriber.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Subscriber(props) {\n  _s();\n\n  const userTo = props.userTo;\n  const userFrom = props.userFrom;\n  const [SubscribeNumber, setSubscribeNumber] = useState(0);\n  const [Subscribed, setSubscribed] = useState(false);\n\n  const onSubscribe = () => {\n    let subscribeVariables = {\n      userTo: userTo,\n      userFrom: userFrom\n    };\n\n    if (Subscribed) {\n      //when we are already subscribed \n      axios.post('/api/subscribe/unSubscribe', subscribeVariables).then(response => {\n        if (response.data.success) {\n          setSubscribeNumber(SubscribeNumber - 1);\n          setSubscribed(!Subscribed);\n        } else {\n          alert('Failed to unsubscribe');\n        }\n      });\n    } else {\n      // when we are not subscribed yet\n      axios.post('/api/subscribe/subscribe', subscribeVariables).then(response => {\n        if (response.data.success) {\n          setSubscribeNumber(SubscribeNumber + 1);\n          setSubscribed(!Subscribed);\n        } else {\n          alert('Failed to subscribe');\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    const subscribeNumberVariables = {\n      userTo: userTo,\n      userFrom: userFrom\n    };\n    axios.post('/api/subscribe/subscribeNumber', subscribeNumberVariables).then(response => {\n      if (response.data.success) {\n        setSubscribeNumber(response.data.subscribeNumber);\n      } else {\n        alert('Failed to get subscriber Number');\n      }\n    });\n    axios.post('/api/subscribe/subscribed', subscribeNumberVariables).then(response => {\n      if (response.data.success) {\n        setSubscribed(response.data.subcribed);\n      } else {\n        alert('Failed to get Subscribed Information');\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onSubscribe,\n      style: {\n        backgroundColor: `${Subscribed ? '#AAAAAA' : '#CC0000'}`,\n        borderRadius: '4px',\n        color: 'white',\n        padding: '10px 16px',\n        fontWeight: '500',\n        fontSize: '1rem',\n        textTransform: 'uppercase'\n      },\n      children: [SubscribeNumber, \" \", Subscribed ? 'Subscribed' : 'Subscribe']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Subscriber, \"wZNGheMEX56g3iS8EPZH7/zREeU=\");\n\n_c = Subscriber;\nexport default Subscriber;\n\nvar _c;\n\n$RefreshReg$(_c, \"Subscriber\");","map":{"version":3,"names":["React","useEffect","useState","axios","Subscriber","props","userTo","userFrom","SubscribeNumber","setSubscribeNumber","Subscribed","setSubscribed","onSubscribe","subscribeVariables","post","then","response","data","success","alert","subscribeNumberVariables","subscribeNumber","subcribed","backgroundColor","borderRadius","color","padding","fontWeight","fontSize","textTransform"],"sources":["C:/Users/scs/OneDrive/Desktop/react-youtube-clone-master/client/src/components/views/DetailVideoPage/Sections/Subscriber.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios';\nfunction Subscriber(props) {\n    const userTo = props.userTo\n    const userFrom = props.userFrom\n\n    const [SubscribeNumber, setSubscribeNumber] = useState(0)\n    const [Subscribed, setSubscribed] = useState(false)\n\n    const onSubscribe = ( ) => {\n\n        let subscribeVariables = {\n                userTo : userTo,\n                userFrom : userFrom\n        }\n\n        if(Subscribed) {\n            //when we are already subscribed \n            axios.post('/api/subscribe/unSubscribe', subscribeVariables)\n                .then(response => {\n                    if(response.data.success){ \n                        setSubscribeNumber(SubscribeNumber - 1)\n                        setSubscribed(!Subscribed)\n                    } else {\n                        alert('Failed to unsubscribe')\n                    }\n                })\n\n        } else {\n            // when we are not subscribed yet\n            \n            axios.post('/api/subscribe/subscribe', subscribeVariables)\n                .then(response => {\n                    if(response.data.success) {\n                        setSubscribeNumber(SubscribeNumber + 1)\n                        setSubscribed(!Subscribed)\n                    } else {\n                        alert('Failed to subscribe')\n                    }\n                })\n        }\n\n    }\n\n\n    useEffect(() => {\n\n        const subscribeNumberVariables = { userTo: userTo, userFrom: userFrom }\n        axios.post('/api/subscribe/subscribeNumber', subscribeNumberVariables)\n            .then(response => {\n                if (response.data.success) {\n                    setSubscribeNumber(response.data.subscribeNumber)\n                } else {\n                    alert('Failed to get subscriber Number')\n                }\n            })\n\n        axios.post('/api/subscribe/subscribed', subscribeNumberVariables)\n            .then(response => {\n                if (response.data.success) {\n                    setSubscribed(response.data.subcribed)\n                } else {\n                    alert('Failed to get Subscribed Information')\n                }\n            })\n\n    }, [])\n\n\n    return (\n        <div>\n            <button \n            onClick={onSubscribe}\n            style={{\n                backgroundColor: `${Subscribed ? '#AAAAAA' : '#CC0000'}`,\n                borderRadius: '4px', color: 'white',\n                padding: '10px 16px', fontWeight: '500', fontSize: '1rem', textTransform: 'uppercase'\n            }}>\n                {SubscribeNumber} {Subscribed ? 'Subscribed' : 'Subscribe'}\n            </button>\n        </div>\n    )\n}\n\nexport default Subscriber\n\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AACA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;EAAA;;EACvB,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;EACA,MAAMC,QAAQ,GAAGF,KAAK,CAACE,QAAvB;EAEA,MAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCP,QAAQ,CAAC,CAAD,CAAtD;EACA,MAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,KAAD,CAA5C;;EAEA,MAAMU,WAAW,GAAG,MAAO;IAEvB,IAAIC,kBAAkB,GAAG;MACjBP,MAAM,EAAGA,MADQ;MAEjBC,QAAQ,EAAGA;IAFM,CAAzB;;IAKA,IAAGG,UAAH,EAAe;MACX;MACAP,KAAK,CAACW,IAAN,CAAW,4BAAX,EAAyCD,kBAAzC,EACKE,IADL,CACUC,QAAQ,IAAI;QACd,IAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAjB,EAAyB;UACrBT,kBAAkB,CAACD,eAAe,GAAG,CAAnB,CAAlB;UACAG,aAAa,CAAC,CAACD,UAAF,CAAb;QACH,CAHD,MAGO;UACHS,KAAK,CAAC,uBAAD,CAAL;QACH;MACJ,CARL;IAUH,CAZD,MAYO;MACH;MAEAhB,KAAK,CAACW,IAAN,CAAW,0BAAX,EAAuCD,kBAAvC,EACKE,IADL,CACUC,QAAQ,IAAI;QACd,IAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAjB,EAA0B;UACtBT,kBAAkB,CAACD,eAAe,GAAG,CAAnB,CAAlB;UACAG,aAAa,CAAC,CAACD,UAAF,CAAb;QACH,CAHD,MAGO;UACHS,KAAK,CAAC,qBAAD,CAAL;QACH;MACJ,CARL;IASH;EAEJ,CAjCD;;EAoCAlB,SAAS,CAAC,MAAM;IAEZ,MAAMmB,wBAAwB,GAAG;MAAEd,MAAM,EAAEA,MAAV;MAAkBC,QAAQ,EAAEA;IAA5B,CAAjC;IACAJ,KAAK,CAACW,IAAN,CAAW,gCAAX,EAA6CM,wBAA7C,EACKL,IADL,CACUC,QAAQ,IAAI;MACd,IAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;QACvBT,kBAAkB,CAACO,QAAQ,CAACC,IAAT,CAAcI,eAAf,CAAlB;MACH,CAFD,MAEO;QACHF,KAAK,CAAC,iCAAD,CAAL;MACH;IACJ,CAPL;IASAhB,KAAK,CAACW,IAAN,CAAW,2BAAX,EAAwCM,wBAAxC,EACKL,IADL,CACUC,QAAQ,IAAI;MACd,IAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;QACvBP,aAAa,CAACK,QAAQ,CAACC,IAAT,CAAcK,SAAf,CAAb;MACH,CAFD,MAEO;QACHH,KAAK,CAAC,sCAAD,CAAL;MACH;IACJ,CAPL;EASH,CArBQ,EAqBN,EArBM,CAAT;EAwBA,oBACI;IAAA,uBACI;MACA,OAAO,EAAEP,WADT;MAEA,KAAK,EAAE;QACHW,eAAe,EAAG,GAAEb,UAAU,GAAG,SAAH,GAAe,SAAU,EADpD;QAEHc,YAAY,EAAE,KAFX;QAEkBC,KAAK,EAAE,OAFzB;QAGHC,OAAO,EAAE,WAHN;QAGmBC,UAAU,EAAE,KAH/B;QAGsCC,QAAQ,EAAE,MAHhD;QAGwDC,aAAa,EAAE;MAHvE,CAFP;MAAA,WAOKrB,eAPL,OAOuBE,UAAU,GAAG,YAAH,GAAkB,WAPnD;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAaH;;GAhFQN,U;;KAAAA,U;AAkFT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}