{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\scs\\\\OneDrive\\\\Desktop\\\\react-youtube-clone-master\\\\client\\\\src\\\\components\\\\views\\\\DetailVideoPage\\\\Sections\\\\LikeDislikes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Tooltip, Icon } from 'antd';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LikeDislikes(props) {\n  _s();\n\n  const [Likes, setLikes] = useState(0);\n  const [Dislikes, setDislikes] = useState(0);\n  const [LikeAction, setLikeAction] = useState(null);\n  const [DislikeAction, setDislikeAction] = useState(null);\n  let variable = {};\n\n  if (props.video) {\n    variable = {\n      videoId: props.videoId,\n      userId: props.userId\n    };\n  } else {\n    variable = {\n      commentId: props.commentId,\n      userId: props.userId\n    };\n  }\n\n  useEffect(async () => {\n    await axios.post('/api/like/getLikes', variable).then(response => {\n      console.log('getLikes', response.data);\n\n      if (response.data.success) {\n        //How many likes does this video or comment have \n        setLikes(response.data.likes.length); //if I already click this like button or not \n\n        response.data.likes.map(like => {\n          if (like.userId === props.userId) {\n            setLikeAction('liked');\n          }\n        });\n      } else {\n        alert('Failed to get likes');\n      }\n    });\n    await axios.post('/api/like/getDislikes', variable).then(response => {\n      console.log('getDislike', response.data);\n\n      if (response.data.success) {\n        //How many likes does this video or comment have \n        setDislikes(response.data.dislikes.length); //if I already click this like button or not \n\n        response.data.dislikes.map(dislike => {\n          if (dislike.userId === props.userId) {\n            setDislikeAction('disliked');\n          }\n        });\n      } else {\n        alert('Failed to get dislikes');\n      }\n    });\n  }, []);\n\n  const onLike = () => {\n    if (LikeAction === null) {\n      axios.post('/api/like/upLike', variable).then(response => {\n        if (response.data.success) {\n          setLikes(Likes + 1);\n          setLikeAction('liked'); //If dislike button is already clicked\n\n          if (DislikeAction !== null) {\n            setDislikeAction(null);\n            setDislikes(Dislikes - 1);\n          }\n        } else {\n          alert('Failed to increase the like');\n        }\n      });\n    } else {\n      axios.post('/api/like/unLike', variable).then(response => {\n        if (response.data.success) {\n          setLikes(Likes - 1);\n          setLikeAction(null);\n        } else {\n          alert('Failed to decrease the like');\n        }\n      });\n    }\n  };\n\n  const onDisLike = () => {\n    if (DislikeAction !== null) {\n      axios.post('/api/like/unDisLike', variable).then(response => {\n        if (response.data.success) {\n          setDislikes(Dislikes - 1);\n          setDislikeAction(null);\n        } else {\n          alert('Failed to decrease dislike');\n        }\n      });\n    } else {\n      axios.post('/api/like/upDisLike', variable).then(response => {\n        if (response.data.success) {\n          setDislikes(Dislikes + 1);\n          setDislikeAction('disliked'); //If dislike button is already clicked\n\n          if (LikeAction !== null) {\n            setLikeAction(null);\n            setLikes(Likes - 1);\n          }\n        } else {\n          alert('Failed to increase dislike');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Like\",\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          type: \"like\",\n          theme: LikeAction === 'liked' ? 'filled' : 'outlined',\n          onClick: onLike\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          paddingLeft: '8px',\n          cursor: 'auto'\n        },\n        children: Likes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)]\n    }, \"comment-basic-like\", true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Dislike\",\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          type: \"dislike\",\n          theme: DislikeAction === 'disliked' ? 'filled' : 'outlined',\n          onClick: onDisLike\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          paddingLeft: '8px',\n          cursor: 'auto'\n        },\n        children: Dislikes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this)]\n    }, \"comment-basic-dislike\", true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LikeDislikes, \"nBwkCEqh5xotQj3frxWfBUBJdxY=\");\n\n_c = LikeDislikes;\nexport default LikeDislikes;\n\nvar _c;\n\n$RefreshReg$(_c, \"LikeDislikes\");","map":{"version":3,"names":["React","useEffect","useState","Tooltip","Icon","axios","LikeDislikes","props","Likes","setLikes","Dislikes","setDislikes","LikeAction","setLikeAction","DislikeAction","setDislikeAction","variable","video","videoId","userId","commentId","post","then","response","console","log","data","success","likes","length","map","like","alert","dislikes","dislike","onLike","onDisLike","paddingLeft","cursor"],"sources":["C:/Users/scs/OneDrive/Desktop/react-youtube-clone-master/client/src/components/views/DetailVideoPage/Sections/LikeDislikes.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Tooltip, Icon } from 'antd';\nimport axios from 'axios';\n\nfunction LikeDislikes(props) {\n\n    const [Likes, setLikes] = useState(0)\n    const [Dislikes, setDislikes] = useState(0)\n    const [LikeAction, setLikeAction] = useState(null)\n    const [DislikeAction, setDislikeAction] = useState(null)\n    let variable = {};\n\n    if (props.video) {\n        variable = { videoId: props.videoId, userId: props.userId }\n    } else {\n        variable = { commentId: props.commentId, userId: props.userId }\n    }\n\n    \n\n\n    useEffect(async() => {\n\n      await  axios.post('/api/like/getLikes', variable)\n            .then(response => {\n                console.log('getLikes',response.data)\n\n                if (response.data.success) {\n                    //How many likes does this video or comment have \n                    setLikes(response.data.likes.length)\n\n                    //if I already click this like button or not \n                    response.data.likes.map(like => {\n                        if (like.userId === props.userId) {\n                            setLikeAction('liked')\n                        }\n                    })\n                } else {\n                    alert('Failed to get likes')\n                }\n            })\n\n       await    axios.post('/api/like/getDislikes', variable)\n            .then(response => {\n                console.log('getDislike',response.data)\n                if (response.data.success) {\n                    //How many likes does this video or comment have \n                    setDislikes(response.data.dislikes.length)\n\n                    //if I already click this like button or not \n                    response.data.dislikes.map(dislike => {\n                        if (dislike.userId === props.userId) {\n                            setDislikeAction('disliked')\n                        }\n                    })\n                } else {\n                    alert('Failed to get dislikes')\n                }\n            })\n\n    }, [])\n\n\n    const onLike = () => {\n\n        if (LikeAction === null) {\n\n            axios.post('/api/like/upLike', variable)\n                .then(response => {\n                    if (response.data.success) {\n\n                        setLikes(Likes + 1)\n                        setLikeAction('liked')\n\n                        //If dislike button is already clicked\n\n                        if (DislikeAction !== null) {\n                            setDislikeAction(null)\n                            setDislikes(Dislikes - 1)\n                        }\n\n\n                    } else {\n                        alert('Failed to increase the like')\n                    }\n                })\n\n\n        } else {\n\n            axios.post('/api/like/unLike', variable)\n                .then(response => {\n                    if (response.data.success) {\n\n                        setLikes(Likes - 1)\n                        setLikeAction(null)\n\n                    } else {\n                        alert('Failed to decrease the like')\n                    }\n                })\n\n        }\n\n    }\n\n\n    const onDisLike = () => {\n\n        if (DislikeAction !== null) {\n\n            axios.post('/api/like/unDisLike', variable)\n                .then(response => {\n                    if (response.data.success) {\n\n                        setDislikes(Dislikes - 1)\n                        setDislikeAction(null)\n\n                    } else {\n                        alert('Failed to decrease dislike')\n                    }\n                })\n\n        } else {\n\n            axios.post('/api/like/upDisLike', variable)\n                .then(response => {\n                    if (response.data.success) {\n\n                        setDislikes(Dislikes + 1)\n                        setDislikeAction('disliked')\n\n                        //If dislike button is already clicked\n                        if(LikeAction !== null ) {\n                            setLikeAction(null)\n                            setLikes(Likes - 1)\n                        }\n\n                    } else {\n                        alert('Failed to increase dislike')\n                    }\n                })\n\n\n        }\n\n\n    }\n\n    return (\n        <React.Fragment>\n            <span key=\"comment-basic-like\">\n                <Tooltip title=\"Like\">\n                    <Icon type=\"like\"\n                        theme={LikeAction === 'liked' ? 'filled' : 'outlined'}\n                        onClick={onLike} />\n                </Tooltip>\n                <span style={{ paddingLeft: '8px', cursor: 'auto' }}>{Likes}</span>\n            </span>&nbsp;&nbsp;\n            <span key=\"comment-basic-dislike\">\n                <Tooltip title=\"Dislike\">\n                    <Icon\n                        type=\"dislike\"\n                        theme={DislikeAction === 'disliked' ? 'filled' : 'outlined'}\n                        onClick={onDisLike}\n                    />\n                </Tooltip>\n                <span style={{ paddingLeft: '8px', cursor: 'auto' }}>{Dislikes}</span>\n            </span>\n        </React.Fragment>\n    )\n}\n\nexport default LikeDislikes\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,EAAkBC,IAAlB,QAA8B,MAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;EAAA;;EAEzB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,CAAD,CAAlC;EACA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,CAAD,CAAxC;EACA,MAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,IAAD,CAA5C;EACA,MAAM,CAACY,aAAD,EAAgBC,gBAAhB,IAAoCb,QAAQ,CAAC,IAAD,CAAlD;EACA,IAAIc,QAAQ,GAAG,EAAf;;EAEA,IAAIT,KAAK,CAACU,KAAV,EAAiB;IACbD,QAAQ,GAAG;MAAEE,OAAO,EAAEX,KAAK,CAACW,OAAjB;MAA0BC,MAAM,EAAEZ,KAAK,CAACY;IAAxC,CAAX;EACH,CAFD,MAEO;IACHH,QAAQ,GAAG;MAAEI,SAAS,EAAEb,KAAK,CAACa,SAAnB;MAA8BD,MAAM,EAAEZ,KAAK,CAACY;IAA5C,CAAX;EACH;;EAKDlB,SAAS,CAAC,YAAW;IAEnB,MAAOI,KAAK,CAACgB,IAAN,CAAW,oBAAX,EAAiCL,QAAjC,EACAM,IADA,CACKC,QAAQ,IAAI;MACdC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBF,QAAQ,CAACG,IAAhC;;MAEA,IAAIH,QAAQ,CAACG,IAAT,CAAcC,OAAlB,EAA2B;QACvB;QACAlB,QAAQ,CAACc,QAAQ,CAACG,IAAT,CAAcE,KAAd,CAAoBC,MAArB,CAAR,CAFuB,CAIvB;;QACAN,QAAQ,CAACG,IAAT,CAAcE,KAAd,CAAoBE,GAApB,CAAwBC,IAAI,IAAI;UAC5B,IAAIA,IAAI,CAACZ,MAAL,KAAgBZ,KAAK,CAACY,MAA1B,EAAkC;YAC9BN,aAAa,CAAC,OAAD,CAAb;UACH;QACJ,CAJD;MAKH,CAVD,MAUO;QACHmB,KAAK,CAAC,qBAAD,CAAL;MACH;IACJ,CAjBA,CAAP;IAmBC,MAAS3B,KAAK,CAACgB,IAAN,CAAW,uBAAX,EAAoCL,QAApC,EACHM,IADG,CACEC,QAAQ,IAAI;MACdC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBF,QAAQ,CAACG,IAAlC;;MACA,IAAIH,QAAQ,CAACG,IAAT,CAAcC,OAAlB,EAA2B;QACvB;QACAhB,WAAW,CAACY,QAAQ,CAACG,IAAT,CAAcO,QAAd,CAAuBJ,MAAxB,CAAX,CAFuB,CAIvB;;QACAN,QAAQ,CAACG,IAAT,CAAcO,QAAd,CAAuBH,GAAvB,CAA2BI,OAAO,IAAI;UAClC,IAAIA,OAAO,CAACf,MAAR,KAAmBZ,KAAK,CAACY,MAA7B,EAAqC;YACjCJ,gBAAgB,CAAC,UAAD,CAAhB;UACH;QACJ,CAJD;MAKH,CAVD,MAUO;QACHiB,KAAK,CAAC,wBAAD,CAAL;MACH;IACJ,CAhBG,CAAT;EAkBF,CAvCQ,EAuCN,EAvCM,CAAT;;EA0CA,MAAMG,MAAM,GAAG,MAAM;IAEjB,IAAIvB,UAAU,KAAK,IAAnB,EAAyB;MAErBP,KAAK,CAACgB,IAAN,CAAW,kBAAX,EAA+BL,QAA/B,EACKM,IADL,CACUC,QAAQ,IAAI;QACd,IAAIA,QAAQ,CAACG,IAAT,CAAcC,OAAlB,EAA2B;UAEvBlB,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;UACAK,aAAa,CAAC,OAAD,CAAb,CAHuB,CAKvB;;UAEA,IAAIC,aAAa,KAAK,IAAtB,EAA4B;YACxBC,gBAAgB,CAAC,IAAD,CAAhB;YACAJ,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;UACH;QAGJ,CAbD,MAaO;UACHsB,KAAK,CAAC,6BAAD,CAAL;QACH;MACJ,CAlBL;IAqBH,CAvBD,MAuBO;MAEH3B,KAAK,CAACgB,IAAN,CAAW,kBAAX,EAA+BL,QAA/B,EACKM,IADL,CACUC,QAAQ,IAAI;QACd,IAAIA,QAAQ,CAACG,IAAT,CAAcC,OAAlB,EAA2B;UAEvBlB,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;UACAK,aAAa,CAAC,IAAD,CAAb;QAEH,CALD,MAKO;UACHmB,KAAK,CAAC,6BAAD,CAAL;QACH;MACJ,CAVL;IAYH;EAEJ,CAzCD;;EA4CA,MAAMI,SAAS,GAAG,MAAM;IAEpB,IAAItB,aAAa,KAAK,IAAtB,EAA4B;MAExBT,KAAK,CAACgB,IAAN,CAAW,qBAAX,EAAkCL,QAAlC,EACKM,IADL,CACUC,QAAQ,IAAI;QACd,IAAIA,QAAQ,CAACG,IAAT,CAAcC,OAAlB,EAA2B;UAEvBhB,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;UACAK,gBAAgB,CAAC,IAAD,CAAhB;QAEH,CALD,MAKO;UACHiB,KAAK,CAAC,4BAAD,CAAL;QACH;MACJ,CAVL;IAYH,CAdD,MAcO;MAEH3B,KAAK,CAACgB,IAAN,CAAW,qBAAX,EAAkCL,QAAlC,EACKM,IADL,CACUC,QAAQ,IAAI;QACd,IAAIA,QAAQ,CAACG,IAAT,CAAcC,OAAlB,EAA2B;UAEvBhB,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;UACAK,gBAAgB,CAAC,UAAD,CAAhB,CAHuB,CAKvB;;UACA,IAAGH,UAAU,KAAK,IAAlB,EAAyB;YACrBC,aAAa,CAAC,IAAD,CAAb;YACAJ,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;UACH;QAEJ,CAXD,MAWO;UACHwB,KAAK,CAAC,4BAAD,CAAL;QACH;MACJ,CAhBL;IAmBH;EAGJ,CAxCD;;EA0CA,oBACI,QAAC,KAAD,CAAO,QAAP;IAAA,wBACI;MAAA,wBACI,QAAC,OAAD;QAAS,KAAK,EAAC,MAAf;QAAA,uBACI,QAAC,IAAD;UAAM,IAAI,EAAC,MAAX;UACI,KAAK,EAAEpB,UAAU,KAAK,OAAf,GAAyB,QAAzB,GAAoC,UAD/C;UAEI,OAAO,EAAEuB;QAFb;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,eAMI;QAAM,KAAK,EAAE;UAAEE,WAAW,EAAE,KAAf;UAAsBC,MAAM,EAAE;QAA9B,CAAb;QAAA,UAAsD9B;MAAtD;QAAA;QAAA;QAAA;MAAA,QANJ;IAAA,GAAU,oBAAV;MAAA;MAAA;MAAA;IAAA,QADJ,2BASI;MAAA,wBACI,QAAC,OAAD;QAAS,KAAK,EAAC,SAAf;QAAA,uBACI,QAAC,IAAD;UACI,IAAI,EAAC,SADT;UAEI,KAAK,EAAEM,aAAa,KAAK,UAAlB,GAA+B,QAA/B,GAA0C,UAFrD;UAGI,OAAO,EAAEsB;QAHb;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,eAQI;QAAM,KAAK,EAAE;UAAEC,WAAW,EAAE,KAAf;UAAsBC,MAAM,EAAE;QAA9B,CAAb;QAAA,UAAsD5B;MAAtD;QAAA;QAAA;QAAA;MAAA,QARJ;IAAA,GAAU,uBAAV;MAAA;MAAA;MAAA;IAAA,QATJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAsBH;;GAvKQJ,Y;;KAAAA,Y;AAyKT,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}