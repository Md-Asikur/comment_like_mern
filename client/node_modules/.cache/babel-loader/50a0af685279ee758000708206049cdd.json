{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nexport function T() {\n  return true;\n} // Fix IE file.status problem\n// via coping a new Object\n\nexport function fileToObject(file) {\n  return _extends(_extends({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\n\nexport function genPercentAdd() {\n  var k = 0.1;\n  var i = 0.01;\n  var end = 0.98;\n  return function (s) {\n    var start = s;\n\n    if (start >= end) {\n      return start;\n    }\n\n    start += k;\n    k -= i;\n\n    if (k < 0.001) {\n      k = 0.001;\n    }\n\n    return start;\n  };\n}\nexport function getFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(function (item) {\n    return item[matchKey] === file[matchKey];\n  })[0];\n}\nexport function removeFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  var removed = fileList.filter(function (item) {\n    return item[matchKey] !== file[matchKey];\n  });\n\n  if (removed.length === fileList.length) {\n    return null;\n  }\n\n  return removed;\n} // ==================== Default Image Preview ====================\n\nvar extname = function extname() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\n\nvar isImageFileType = function isImageFileType(type) {\n  return !!type && type.indexOf('image/') === 0;\n};\n\nexport var isImageUrl = function isImageUrl(file) {\n  if (isImageFileType(file.type)) {\n    return true;\n  }\n\n  var url = file.thumbUrl || file.url;\n  var extension = extname(url);\n\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(extension)) {\n    return true;\n  }\n\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n\n  return true;\n};\nvar MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(function (resolve) {\n    if (!isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n\n    var canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n    document.body.appendChild(canvas);\n    var ctx = canvas.getContext('2d');\n    var img = new Image();\n\n    img.onload = function () {\n      var width = img.width,\n          height = img.height;\n      var drawWidth = MEASURE_SIZE;\n      var drawHeight = MEASURE_SIZE;\n      var offsetX = 0;\n      var offsetY = 0;\n\n      if (width < height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      var dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      resolve(dataURL);\n    };\n\n    img.src = window.URL.createObjectURL(file);\n  });\n}","map":{"version":3,"mappings":"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","names":["T","fileToObject","file","_extends","lastModified","lastModifiedDate","name","size","type","uid","percent","originFileObj","genPercentAdd","k","i","end","s","start","getFileItem","fileList","matchKey","undefined","filter","item","removeFileItem","removed","length","extname","url","temp","split","filename","filenameWithoutSuffix","exec","isImageFileType","indexOf","isImageUrl","thumbUrl","extension","test","MEASURE_SIZE","previewImage","Promise","resolve","canvas","document","createElement","width","height","style","cssText","body","appendChild","ctx","getContext","img","Image","onload","drawWidth","drawHeight","offsetX","offsetY","drawImage","dataURL","toDataURL","removeChild","src","window","URL","createObjectURL"],"sources":["C:\\Users\\scs\\OneDrive\\Desktop\\Youtube Deploy\\client\\node_modules\\antd\\es\\upload\\upload\\utils.jsx"],"sourcesContent":["export function T() {\n    return true;\n}\n// Fix IE file.status problem\n// via coping a new Object\nexport function fileToObject(file) {\n    return Object.assign(Object.assign({}, file), { lastModified: file.lastModified, lastModifiedDate: file.lastModifiedDate, name: file.name, size: file.size, type: file.type, uid: file.uid, percent: 0, originFileObj: file });\n}\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\nexport function genPercentAdd() {\n    let k = 0.1;\n    const i = 0.01;\n    const end = 0.98;\n    return (s) => {\n        let start = s;\n        if (start >= end) {\n            return start;\n        }\n        start += k;\n        k -= i;\n        if (k < 0.001) {\n            k = 0.001;\n        }\n        return start;\n    };\n}\nexport function getFileItem(file, fileList) {\n    const matchKey = file.uid !== undefined ? 'uid' : 'name';\n    return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n    const matchKey = file.uid !== undefined ? 'uid' : 'name';\n    const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n    if (removed.length === fileList.length) {\n        return null;\n    }\n    return removed;\n}\n// ==================== Default Image Preview ====================\nconst extname = (url = '') => {\n    const temp = url.split('/');\n    const filename = temp[temp.length - 1];\n    const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n    return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nconst isImageFileType = (type) => !!type && type.indexOf('image/') === 0;\nexport const isImageUrl = (file) => {\n    if (isImageFileType(file.type)) {\n        return true;\n    }\n    const url = (file.thumbUrl || file.url);\n    const extension = extname(url);\n    if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(extension)) {\n        return true;\n    }\n    if (/^data:/.test(url)) {\n        // other file types of base64\n        return false;\n    }\n    if (extension) {\n        // other file types which have extension\n        return false;\n    }\n    return true;\n};\nconst MEASURE_SIZE = 200;\nexport function previewImage(file) {\n    return new Promise(resolve => {\n        if (!isImageFileType(file.type)) {\n            resolve('');\n            return;\n        }\n        const canvas = document.createElement('canvas');\n        canvas.width = MEASURE_SIZE;\n        canvas.height = MEASURE_SIZE;\n        canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n        document.body.appendChild(canvas);\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n        img.onload = () => {\n            const { width, height } = img;\n            let drawWidth = MEASURE_SIZE;\n            let drawHeight = MEASURE_SIZE;\n            let offsetX = 0;\n            let offsetY = 0;\n            if (width < height) {\n                drawHeight = height * (MEASURE_SIZE / width);\n                offsetY = -(drawHeight - drawWidth) / 2;\n            }\n            else {\n                drawWidth = width * (MEASURE_SIZE / height);\n                offsetX = -(drawWidth - drawHeight) / 2;\n            }\n            ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n            const dataURL = canvas.toDataURL();\n            document.body.removeChild(canvas);\n            resolve(dataURL);\n        };\n        img.src = window.URL.createObjectURL(file);\n    });\n}\n"]},"metadata":{},"sourceType":"module"}