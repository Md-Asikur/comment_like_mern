{"ast":null,"code":"import _slicedToArray from\"C:/Users/scs/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Comment,Avatar,Button,Input}from'antd';import axios from'axios';import{useSelector}from'react-redux';import LikeDislikes from'./LikeDislikes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TextArea=Input.TextArea;function SingleComment(props){var user=useSelector(function(state){return state.user;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),CommentValue=_useState2[0],setCommentValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),OpenReply=_useState4[0],setOpenReply=_useState4[1];var handleChange=function handleChange(e){setCommentValue(e.currentTarget.value);};var openReply=function openReply(){setOpenReply(!OpenReply);};var onSubmit=function onSubmit(e){e.preventDefault();var variables={writer:user.userData._id,postId:props.postId,responseTo:props.comment._id,content:CommentValue};axios.post('/api/comment/saveComment',variables).then(function(response){if(response.data.success){setCommentValue(\"\");setOpenReply(!OpenReply);props.refreshFunction(response.data.result);}else{alert('Failed to save Comment');}});};var actions=[/*#__PURE__*/_jsx(LikeDislikes,{comment:true,commentId:props.comment._id,userId:localStorage.getItem('userId')}),/*#__PURE__*/_jsx(\"span\",{onClick:openReply,children:\"Reply to \"},\"comment-basic-reply-to\")];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Comment,{actions:actions,author:props.comment.writer.name,avatar:/*#__PURE__*/_jsx(Avatar,{src:props.comment.writer.image,alt:\"image\"}),content:/*#__PURE__*/_jsx(\"p\",{children:props.comment.content})}),OpenReply&&/*#__PURE__*/_jsxs(\"form\",{style:{display:'flex'},onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(TextArea,{style:{width:'100%',borderRadius:'5px'},onChange:handleChange,value:CommentValue,placeholder:\"write some comments\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{style:{width:'20%',height:'52px'},onClick:onSubmit,children:\"Submit\"})]})]});}export default SingleComment;","map":{"version":3,"names":["React","useState","Comment","Avatar","Button","Input","axios","useSelector","LikeDislikes","TextArea","SingleComment","props","user","state","CommentValue","setCommentValue","OpenReply","setOpenReply","handleChange","e","currentTarget","value","openReply","onSubmit","preventDefault","variables","writer","userData","_id","postId","responseTo","comment","content","post","then","response","data","success","refreshFunction","result","alert","actions","localStorage","getItem","name","image","display","width","borderRadius","height"],"sources":["C:/Users/scs/OneDrive/Desktop/react-youtube-clone-master/client/src/components/views/DetailVideoPage/Sections/SingleComment.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Comment, Avatar, Button, Input } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport LikeDislikes from './LikeDislikes';\nconst { TextArea } = Input;\nfunction SingleComment(props) {\n    const user = useSelector(state => state.user);\n    const [CommentValue, setCommentValue] = useState(\"\")\n    const [OpenReply, setOpenReply] = useState(false)\n\n    const handleChange = (e) => {\n        setCommentValue(e.currentTarget.value)\n    }\n\n    const openReply = () => {\n        setOpenReply(!OpenReply)\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        const variables = {\n            writer: user.userData._id,\n            postId: props.postId,\n            responseTo: props.comment._id,\n            content: CommentValue\n        }\n\n\n        axios.post('/api/comment/saveComment', variables)\n            .then(response => {\n                if (response.data.success) {\n                    setCommentValue(\"\")\n                    setOpenReply(!OpenReply)\n                    props.refreshFunction(response.data.result)\n                } else {\n                    alert('Failed to save Comment')\n                }\n            })\n    }\n\n    const actions = [\n        <LikeDislikes comment commentId={props.comment._id} userId={localStorage.getItem('userId')} />,\n        <span onClick={openReply} key=\"comment-basic-reply-to\">Reply to </span>\n    ]\n\n    return (\n        <div>\n            <Comment\n                actions={actions}\n                author={props.comment.writer.name}\n                avatar={\n                    <Avatar\n                        src={props.comment.writer.image}\n                        alt=\"image\"\n                    />\n                }\n                content={\n                    <p>\n                        {props.comment.content}\n                    </p>\n                }\n            ></Comment>\n\n\n            {OpenReply &&\n                <form style={{ display: 'flex' }} onSubmit={onSubmit}>\n                    <TextArea\n                        style={{ width: '100%', borderRadius: '5px' }}\n                        onChange={handleChange}\n                        value={CommentValue}\n                        placeholder=\"write some comments\"\n                    />\n                    <br />\n                    <Button style={{ width: '20%', height: '52px' }} onClick={onSubmit}>Submit</Button>\n                </form>\n            }\n\n        </div>\n    )\n}\n\nexport default SingleComment\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}