{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\scs\\\\OneDrive\\\\Desktop\\\\Youtube Deploy\\\\client\\\\src\\\\components\\\\views\\\\DetailVideoPage\\\\DetailVideoPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { List, Avatar, Row, Col } from 'antd';\nimport axios from 'axios';\nimport SideVideo from './Sections/SideVideo';\nimport Subscriber from './Sections/Subscriber';\nimport Comments from './Sections/Comments';\nimport LikeDislikes from './Sections/LikeDislikes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DetailVideoPage(props) {\n  _s();\n\n  const videoId = props.match.params.videoId;\n  const [Video, setVideo] = useState([]);\n  const [CommentLists, setCommentLists] = useState([]);\n  const videoVariable = {\n    videoId: videoId\n  };\n  useEffect(() => {\n    axios.post('/api/video/getVideo', videoVariable).then(response => {\n      if (response.data.success) {\n        console.log(response.data.video);\n        setVideo(response.data.video);\n      } else {\n        alert('Failed to get video Info');\n      }\n    });\n    axios.post('/api/comment/getComments', videoVariable).then(response => {\n      if (response.data.success) {\n        console.log('response.data.comments', response.data.comments);\n        setCommentLists(response.data.comments);\n      } else {\n        alert('Failed to get video Info');\n      }\n    });\n  }, []);\n\n  const updateComment = newComment => {\n    setCommentLists(CommentLists.concat(newComment));\n  };\n\n  if (Video.writer) {\n    return /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: 18,\n        xs: 24,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postPage\",\n          style: {\n            width: '100%',\n            padding: '3rem 4em'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            style: {\n              width: '100%'\n            },\n            src: `http://localhost:5000/${Video.filePath}`,\n            controls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n            actions: [/*#__PURE__*/_jsxDEV(LikeDislikes, {\n              video: true,\n              videoId: videoId,\n              userId: localStorage.getItem('userId')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(Subscriber, {\n              userTo: Video.writer._id,\n              userFrom: localStorage.getItem('userId')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 122\n            }, this)],\n            children: [/*#__PURE__*/_jsxDEV(List.Item.Meta, {\n              avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n                src: Video.writer && Video.writer.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 41\n              }, this),\n              title: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"https://ant.design\",\n                children: Video.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 40\n              }, this),\n              description: Video.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Comments, {\n            CommentLists: CommentLists,\n            postId: Video._id,\n            refreshFunction: updateComment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: 6,\n        xs: 24,\n        children: /*#__PURE__*/_jsxDEV(SideVideo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(DetailVideoPage, \"uD2ASEtBpCIiPGdKms9jaAcGQnI=\");\n\n_c = DetailVideoPage;\nexport default DetailVideoPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailVideoPage\");","map":{"version":3,"names":["React","useEffect","useState","List","Avatar","Row","Col","axios","SideVideo","Subscriber","Comments","LikeDislikes","DetailVideoPage","props","videoId","match","params","Video","setVideo","CommentLists","setCommentLists","videoVariable","post","then","response","data","success","console","log","video","alert","comments","updateComment","newComment","concat","writer","width","padding","filePath","localStorage","getItem","_id","image","title","description"],"sources":["C:/Users/scs/OneDrive/Desktop/Youtube Deploy/client/src/components/views/DetailVideoPage/DetailVideoPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { List, Avatar, Row, Col } from 'antd';\nimport axios from 'axios';\nimport SideVideo from './Sections/SideVideo';\nimport Subscriber from './Sections/Subscriber';\nimport Comments from './Sections/Comments'\nimport LikeDislikes from './Sections/LikeDislikes';\nfunction DetailVideoPage(props) {\n\n\n    const videoId = props.match.params.videoId\n    const [Video, setVideo] = useState([])\n    const [CommentLists, setCommentLists] = useState([])\n\n    const videoVariable = {\n        videoId: videoId\n    }\n\n    useEffect(() => {\n        axios.post('/api/video/getVideo', videoVariable)\n            .then(response => {\n                if (response.data.success) {\n                    console.log(response.data.video)\n                    setVideo(response.data.video)\n                } else {\n                    alert('Failed to get video Info')\n                }\n            })\n\n        axios.post('/api/comment/getComments', videoVariable)\n            .then(response => {\n                if (response.data.success) {\n                    console.log('response.data.comments',response.data.comments)\n                    setCommentLists(response.data.comments)\n                } else {\n                    alert('Failed to get video Info')\n                }\n            })\n\n\n    }, [])\n\n    const updateComment = (newComment) => {\n        setCommentLists(CommentLists.concat(newComment))\n    }\n\n\n    if (Video.writer) {\n        return (\n            <Row>\n                <Col lg={18} xs={24}>\n                    <div className=\"postPage\" style={{ width: '100%', padding: '3rem 4em' }}>\n                        <video style={{ width: '100%' }} src={`http://localhost:5000/${Video.filePath}`} controls></video>\n\n                        <List.Item\n                            actions={[<LikeDislikes video videoId={videoId} userId={localStorage.getItem('userId')}  />, <Subscriber userTo={Video.writer._id} userFrom={localStorage.getItem('userId')} />]}\n                        >\n                            <List.Item.Meta\n                                avatar={<Avatar src={Video.writer && Video.writer.image} />}\n                                title={<a href=\"https://ant.design\">{Video.title}</a>}\n                                description={Video.description}\n                            />\n                            <div></div>\n                        </List.Item>\n\n                        <Comments CommentLists={CommentLists} postId={Video._id} refreshFunction={updateComment} />\n\n                    </div>\n                </Col>\n                <Col lg={6} xs={24}>\n\n                    <SideVideo />\n\n                </Col>\n            </Row>\n        )\n\n    } else {\n        return (\n            <div>Loading...</div>\n        )\n    }\n\n\n}\n\nexport default DetailVideoPage\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}